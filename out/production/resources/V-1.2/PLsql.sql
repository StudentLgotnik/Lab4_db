UPDATE SYSTEM.COUNTRIES SET ID = NULL ;
UPDATE SYSTEM.CAPITAL SET ID = NULL ;
UPDATE SYSTEM.CONTINENT SET ID = NULL ;
UPDATE SYSTEM.COUNTRIESEMPLOYER SET ID = NULL ;
UPDATE SYSTEM.TIMEZONE SET ID = NULL ;

ALTER TABLE COUNTRIES MODIFY ID VARCHAR2(40);
ALTER TABLE CAPITAL MODIFY ID VARCHAR2(40);
ALTER TABLE CONTINENT MODIFY ID VARCHAR2(40);
ALTER TABLE COUNTRIESEMPLOYER MODIFY ID VARCHAR2(40);
ALTER TABLE TIMEZONE MODIFY ID VARCHAR2(40);


CREATE OR REPLACE FUNCTION Random_GUID
  RETURN VARCHAR2 IS
  RNG    NUMBER;
  N      BINARY_INTEGER;
  CCS    VARCHAR2 (128);
  XSTR   VARCHAR2 (4000) := NULL;

  BEGIN

    CCS := '0123456789' || 'ABCDEF';
    RNG := 15;
    FOR I IN 1 .. 32 LOOP
      N := TRUNC (RNG * 0.4831) + 1;
      XSTR := XSTR || SUBSTR (CCS, N, 1);
    END LOOP;

    RETURN SUBSTR(XSTR, 1, 4) || '-' ||
           SUBSTR(XSTR, 5, 4)        || '-' ||
           SUBSTR(XSTR, 9, 4)        || '-' ||
           SUBSTR(XSTR, 13,4)        || '-' ||
           SUBSTR(XSTR, 17,4)        || '-' ||
           SUBSTR(XSTR, 21,4)        || '-' ||
           SUBSTR(XSTR, 24,4)        || '-' ||
           SUBSTR(XSTR, 28,4);
  END RANDOM_GUID;

UPDATE SYSTEM.COUNTRIES SET ID = Random_GUID();
UPDATE SYSTEM.CAPITAL SET ID = Random_GUID() ;
UPDATE SYSTEM.CONTINENT SET ID = Random_GUID() ;
UPDATE SYSTEM.COUNTRIESEMPLOYER SET ID = Random_GUID() ;
UPDATE SYSTEM.TIMEZONE SET ID = Random_GUID() ;
